<form #f="ngForm" (ngSubmit)="f.form.valid && onSubmit()" class="row g-3 form-container container-sm">

    <!-- First Name -->
    <div class="form-group col-md-6">
        <label><b>First Name</b></label>
        <input type="text" class="form-control" id="fname"
            [(ngModel)]="employee['fname']"
            name="fname"  
            required minlength="3"
            #fname="ngModel" [ngClass]="{ 'is-invalid': f.submitted && fname.errors }" />
        <div *ngIf="f.submitted && fname.errors" class="invalid-feedback">
            <div *ngIf="fname.errors['required']">First name is required</div>
            <div *ngIf="fname.errors['minlength']">First Name must be at least 3 characters</div>
        </div>
    </div>

    <!-- Last Name -->
    <div class="form-group col-md-6">
        <label><b>Last Name</b></label>
        <input type="text" class="form-control" id="lname"
            [(ngModel)]="employee['lname']"
            name="lname"
            required
            #lname="ngModel" [ngClass]="{ 'is-invalid': f.submitted && lname.errors }" />
        <div *ngIf="f.submitted && lname.errors" class="invalid-feedback">
            <div *ngIf="lname.errors['required']">Last name is required</div>
        </div>
    </div>

    <!-- Email -->
    <div class="form-group">
        <label><b>Email Id</b></label>
        <input type="email" class="form-control" id="email"
            [(ngModel)]="employee['email']"
            name="email"
            required
            #email="ngModel" [ngClass]="{ 'is-invalid': f.submitted && email.errors }" />
        <div *ngIf="f.submitted && email.errors" class="invalid-feedback">
            <div *ngIf="email.errors['required']">Email is required</div>
            <div *ngIf="email.invalid">Invalid email format</div>
        </div>
    </div>

    <!-- Department -->
    <div class="form-group col-md-6">
        <label class="form-label"><b>Department</b></label>
        <select id="department" class="form-select"
            [(ngModel)]="employee['department']"
            name="department"
            required
            #department="ngModel" [ngClass]="{ 'is-invalid': f.submitted && department.errors }">
            <option selected disabled value="">Choose...</option>
            <option>IT</option>
            <option>HR</option>
            <option>Finance</option>
            <option>Marketing</option>
        </select>
        <div *ngIf="f.submitted && department.errors" class="invalid-feedback">
            <div *ngIf="department.errors['required']">Department is required</div>
        </div>
    </div>

    <!-- Designation -->
    <div class="form-group col-md-6">
        <label class="form-label"><b>Designation</b></label>
        <select id="designation" class="form-select"
            [(ngModel)]="employee['designation']"
            name="designation"
            required
            #designation="ngModel" [ngClass]="{ 'is-invalid': f.submitted && designation.errors }">
            <option selected disabled value="">Choose...</option>
            <option>Developer</option>
            <option>Manager</option>
            <option>Analyst</option>
            <option>Accountant</option>
        </select>
        <div *ngIf="f.submitted && designation.errors" class="invalid-feedback">
            <div *ngIf="designation.errors['required']">Designation is required</div>
        </div>
    </div>

    <!-- Salary -->
    <div class="form-group col-md-6">
        <label><b>Salary</b></label>
        <input type="number" class="form-control" id="salary"
            [(ngModel)]="employee['salary']"
            name="salary"
            required
            #salary="ngModel" [ngClass]="{ 'is-invalid': f.submitted && salary.errors }" />
        <div *ngIf="f.submitted && salary.errors" class="invalid-feedback">
            <div *ngIf="salary.errors['required']">Salary is required</div>
        </div>
    </div>

    <!-- Joining Date -->
    <div class="form-group col-md-6">
        <label><b>Joining Date</b></label>
        <input type="date" class="form-control" id="joiningDate"
            [(ngModel)]="employee['joiningDate']"
            name="joiningDate"
            required
            #joiningDate="ngModel" [ngClass]="{ 'is-invalid': f.submitted && joiningDate.errors }" />
        <div *ngIf="f.submitted && joiningDate.errors" class="invalid-feedback">
            <div *ngIf="joiningDate.errors['required']">Joining Date is required</div>
        </div>
    </div>

    <!-- Buttons -->
    <div class="form-group col-md-6">
        <button class="btn btn-success full-width-button" type="submit">Submit</button>
    </div>
    <div class="col-md-6">
        <button type="button" (click)="goToEmployeeList()" class="btn btn-danger full-width-button">Cancel</button>
    </div>
</form>
